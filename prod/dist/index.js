!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["app-state-utils"]=t():e["app-state-utils"]=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.r(t),e.d(t,{default:()=>o});const o=function(e){this.createEntry=function(e,t){return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=JSON.parse(JSON.stringify(e)),l=o.name,a=o.value,s=l,c=o.child,i=e?Array.from(e):null,h=[];if("object"!==n(e)||e[e.length-1]===i.pop()&&void 0!==i.pop())return console.error("[state] must be a valid javascript object"),e;if("object"===n(c)&&0===c.length&&void 0===c[c.length-1]&&(c=null),!c&&r[s])return console.warn("'".concat(s,"' key already exists in state.")),a===r[s]?(console.warn("State is already up to date."),e):n(a)!==n(r[s])?(console.error("\n                        \n State update failed,\n                        \n You are attempting to perform unauthorized type changes.\n                        \n Pass 'false' to the (staticType) parameter of the 'updateValue()' function to allow type changes.\n                    "),e):(Object.assign(r,e),r[s]=a,r);if(!c&&!r[s])return r.hasOwnProperty(s)?(console.warn("'".concat(s,"' key already exists in state.")),a===r[s]?(console.warn("State is already up to date."),e):n(a)!==n(r[s])?(console.error("\n                            \n State update failed,\n                            \n You are attempting to perform unauthorized type changes.\n                            \n Pass 'false' to the (staticType) parameter of the 'updateValue()' function to allow type changes.\n                        "),e):(Object.assign(r,e),r[s]=a,r)):(Object.assign(r,e),r[s]=a,r);if(!c.length||a===r[s])return Object.assign(r,e),r;for(var u=0;u<c.length;u++){if(h.length)u===c.length-1&&(h[h.length-1][c[u]]=a,h.push(h[h.length-1][c[u]])),void 0!==h[h.length-1][c[u]]?u!==c.length-1&&h.push(h[h.length-1][c[u]]):u!==c.length-1&&(h[h.length-1][c[u]]={},h.push(h[h.length-1][c[u]]));else if(void 0===r[s])u===c.length-1?(r[s]={},r[s][c[u]]=a,h.push(r[s][c[u]])):(r[s]={},r[s][c[u]]={},h.push(r[s][c[u]]));else if(void 0===r[s][c[u]])u===c.length-1?(r[s][c[u]]=a,h.push(r[s][c[u]])):(r[s][c[u]]={},h.push(r[s][c[u]]));else if(u===c.length-1){if(n(r[s][c[u]])!==n(a))return console.error("\n                                        \n State update failed,\n                                        \n You are attempting to perform unauthorized type changes.\n                                        \n Pass 'false' to the (staticType) parameter of the 'updateValue()' function to allow type changes.\n                                    "),e;r[s][c[u]]=a,h.push(r[s][c[u]])}else h.push(r[s][c[u]]);if(u===c.length-1)for(var g=h.length-1;g>=0;g--)if(g!==h.length-1&&(h[g][c[g+1]]=h[g+1]),0===g)return Object.assign(r,e),r[s][c[g]]=h[g],r}}}(e),this.updateValue=function(e,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,a=JSON.parse(JSON.stringify(e)),s=r.name,c=r.newValue,i=s,h=r.child,u=e?Array.from(e):null,g=[],f=!!l;if("object"!==n(e)||e[e.length-1]===u.pop()&&void 0!==u.pop())return console.error("[state] must be a valid javascript object"),e;if("object"===n(h)&&0===h.length&&void 0===h[h.length-1]&&(h=null),!h&&!a.hasOwnProperty(i))return console.error("The referenced property '".concat(i,"' does not exist in current state.")),e;if(!h&&c===a[i])return console.warn("State is already up to date."),e;if(!h.length&&c!==a[i])return n(c)!==n(a[i])&&f?(console.error("\n                    \n State update failed,\n                    \n You are attempting to perform unauthorized type changes.\n                    \n Pass 'false' to the (staticType) parameter of the 'updateValue()' function to allow type changes.\n                "),e):(Object.assign(a,e),a[i]=c,a);if(!h.length||c===a[i])return Object.assign(a,e),a;for(var p=0;p<h.length;p++){if(g.length){if(void 0===g[g.length-1][h[p]])return console.error("The referenced property '".concat(i,"' does not exist in current state.")),e;g.push(g[g.length-1][h[p]])}else{if(void 0===a[i][h[p]])return console.error("The referenced property '".concat(i,"' does not exist in current state.")),e;g.push(a[i][h[p]])}if(p===h.length-1){if(c===g[g.length-1])return console.warn("State is already up to date."),e;if(n(c)!==n(g[g.length-1])&&f)return console.error("\n                                State update failed,\n                                \n You are attempting to perform unauthorized type changes.\n                                \n Pass 'false' to the (staticType) parameter of the 'updateValue()' function to allow type changes.\n                            "),null;for(var d=g.length-1;d>=0;d--)if(d===g.length-1?g[d]=c:g[d][h[d+1]]=g[d+1],0===d)return Object.assign(a,e),a[i][h[d]]=g[d],a}}}}(e),this.clearValue=function(e,t){return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=JSON.parse(JSON.stringify(e)),l=o.name,a=o.child,s=e?Array.from(e):null,c=[];if("object"!==n(e)||e[e.length-1]===s.pop()&&void 0!==s.pop())return console.error("[state] must be a valid javascript object"),e;if("object"===n(a)&&0===a.length&&void 0===a[a.length-1]&&(a=null),!a&&r.hasOwnProperty(l))if(Object.assign(r,e),"boolean"==typeof r[l]){if(r[l])return r[l]=!1,r}else if("number"==typeof r[l]){if(0!==r[l])return r[l]=0,r}else if("object"===n(r[l])){if(r[l])return"number"==typeof r.length&&void 0!==r[r.length-1]?(r[l]=[],r):(r[l]={},r)}else{if("string"!=typeof r[l]&&"symbol"!==n(r[l]))return r[l]="",r;if(r[l].length)return r[l]="",r}else{if(!a&&!r.hasOwnProperty(l))return console.error("The referenced property '".concat(l,"' does not exist in current state.")),e;if(a.length)for(var i=0;i<a.length;i++){if(c.length){if(void 0===c[c.length-1][a[i]])return console.error("The referenced property '".concat(a[i],"' does not exist in current state.")),e;c.push(c[c.length-1][a[i]])}else{if(void 0===r[l][a[i]])return console.error("The referenced property '".concat(a[i],"' does not exist in current state.")),e;c.push(r[l][a[i]])}if(i===a.length-1)for(var h=c.length-1;h>=0;h--)if(h===c.length-1?null!==c[c.length-1]&&("boolean"==typeof c[c.length-1]?c[c.length-1]&&(c[c.length-1]=!1):"number"==typeof c[c.length-1]?0!==c[c.length-1]&&(c[c.length-1]=0):"object"===n(c[c.length-1])?c[c.length-1]&&("number"==typeof c[c.length-1].length&&void 0!==c[c.length-1].length-1?c[c.length-1]=[]:c[c.length-1]={}):"string"==typeof c[c.length-1]?c[c.length-1].length&&(c[c.length-1]=""):(n(c[c.length-1]),c[c.length-1]="")):c[h][a[h+1]]=c[h+1],0===h)return Object.assign(r,e),r[l][a[h]]=c[h],r}}}}(e),this.deleteEntry=function(e,t){return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=JSON.parse(JSON.stringify(e)),l=null,a=o.name,s=o.child,c=e?Array.from(e):null,i=[];if("object"!==n(e)||e[e.length-1]===c.pop()&&void 0!==c.pop())return console.error("[state] must be a valid javascript object"),e;if("object"===n(s)&&0===s.length&&void 0===s[s.length-1]&&(s=null),!s&&!r.hasOwnProperty(a))return console.error("The referenced property '".concat(a,"' does not exist in current state.")),e;if(!s&&r.hasOwnProperty(a)){if(l={},!(Object.keys(r).length>1))return l;for(var h=0;h<Object.keys(r).length;h++)if(Object.keys(r)[h]!==a)return l[Object.keys(r)[h]]=Object.values(r)[h],l}else{if(!s.length||!r.hasOwnProperty(a))return console.log("The referenced property '".concat(a,"' does not exist in current state.")),e;for(var u=0;u<s.length;u++)if(i.length){if(u===s.length-1){for(var g={},f=0;f<Object.keys(i[i.length-1]).length;f++){if(Object.keys(i[i.length-1])[f]!==s[s.length-1])if(void 0!==i[i.length-1][s[u]])g[Object.keys(i[i.length-1])[f]]=i[i.length-1][Object.keys(i[i.length-1])[f]];else if(void 0===i[i.length-1][s[u]])return console.log("The referenced property '".concat(s[u],"' does not exist in current state.")),e;f===Object.keys(i[i.length-1]).length-1&&(i[i.length-1]=g)}for(var p=i.length-1;p>=0;p--)if(p<i.length-1&&(i[p][s[p+1]]=i[p+1]),0===p)return Object.assign(r,e),r[a][s[p]]=i[p],r}else if("object"===n(i[i.length-1][s[u]])&&void 0!==i[i.length-1][s[u]])i.push(i[i.length-1][s[u]]);else if(void 0===i[i.length-1][s[u]])return console.log("The referenced property '".concat(s[u],"' does not exist in current state.")),e}else if(u!==s.length-1)i.push(r[a][s[u]]);else for(var d={},y=0;y<Object.keys(r[a]).length;y++)if(Object.keys(r[a])[y]!==s[s.length-1]&&(d[Object.keys(r[a])[y]]=r[a][Object.keys(r[a])[y]]),y===Object.keys(r[a]).length-1)return Object.assign(r,e),r[a]=d,r}}}(e),this.logState=function(e,t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,child:[]},o=JSON.parse(JSON.stringify(e)),r=t.name,l=t.child,a=e?Array.from(e):null,s=[],c=new Date,i="state.".concat(r);if("object"!==n(e)||e[e.length-1]===a.pop()&&void 0!==a.pop())return console.error("[state] must be a valid javascript object"),e;if("object"===n(l)&&0===l.length&&void 0===l[l.length-1]&&(l=null),!t.name)return console.log("\n app state @ ".concat(c.getHours(),":").concat(c.getMinutes(),":").concat(c.getSeconds())),console.log(e),e;if(!l&&!o.hasOwnProperty(r))return console.error("The referenced property '".concat(r,"' does not exist in current state.")),e;if(!l&&o.hasOwnProperty(r))return console.log("\n                    \n app state @ ".concat(c.getHours(),":").concat(c.getMinutes(),":").concat(c.getSeconds(),"\n                    \n ").concat(i," :\n                ")),console.log(e[r]),e;if(l.length){for(var h=0;h<l.length;h++)s.length?(i+=".".concat(l[h]),h!==l.length-1?s.push(s[s.length-1][l[h]]):(s.push(s[s.length-1][l[h]]),console.log("\n                                \n app state @ ".concat(c.getHours(),":").concat(c.getMinutes(),":").concat(c.getSeconds(),"\n                                \n ").concat(i," :\n                            ")),console.log(s[s.length-1]))):(i+=".".concat(l[h]),h===l.length-1?(console.log("\n                                \n app state @ ".concat(c.getHours(),":").concat(c.getMinutes(),":").concat(c.getSeconds(),"\n                                \n ").concat(i," :\n                            ")),console.log(e[r][l[h]])):s.push(e[r][l[h]]));return e}}}(e)};return t})()}));